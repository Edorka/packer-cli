# {{packageName}}

[![Build Status](https://travis-ci.org/yohangz/packer-cli.svg?branch=master)](https://travis-ci.org/yohangz/packer-cli)
[![MIT](https://img.shields.io/badge/license-MIT-blue.svg?style=flat)](https://github.com/yohangz/packer-cli/blob/master/LICENSE)
[![NPM VERSION](https://badge.fury.io/js/packer-cli.svg)](https://badge.fury.io/js/packer-cli)

> {{packageDescription}}

# Usage

```sh
# Run project on watch mode
npm run watch

# Production build
npm run build

# Run Style and script lint tasks
npm run lint

# Run style lint task
npm run lint:style

# Run script lint task
npm run lint:script

# Run unit test suite on development envrionemnt watch mode
npm run test

# Run unit test suite on continues integration environment mode
npm run test:ci

# Bump package version and push updated package config
npm version major|monor|patch

# Build project and publish to NPM
npm run release
```

# Project Structure

```
.
├── /.rpt2_cache/               # TypeScript build cache directory
├── /.tmp/                      # Watch build tempary artifact directory
├── /demo/                      # Demo source content (applicable if serve mode is enabled in config)
│   ├── /build/                 # Build demo page and assets
│   └── /watch/                 # Watch demo page and assets
├── /src/                       # Library source of the project
├── /node_modules/              # Node modules directory
├── /dist/                      # Compiled distribution artifacts directory (Generated by build task).
│   ├── /bundles                # Directory containing bundled artifacts (umd, amd, iife, system).
│   ├── /fesm5                  # Directory coniaining FESM5 artifact.
│   ├── /fesm2015               # Directory coniaining FESM2015 artifact.
│   ├── /styles                 # Directory containing compiled style sheets.
│   ├── /LICENSE                # Project license agreement file.
│   ├── /package.json           # Package.json file with publish artifact specific configuration.
│   └── /README.md              # Package documentation markup file.
├── .banner.hbs                 # Bundle banner template.
├── .editorconfig               # Define and maintain consistent coding styles between different editors and IDEs.
├── .eslintrc.yml               # ES Lint configuration.
├── .gitignore                  # Contains files to be ignored when pushing to git.
├── .packerrc.json              # This file contains library build configuration options.
├── .stylelintrc.json           # Style lint configuration.
├── .travis.yml                 # Travis CI configuration file.
├── karma.conf.js               # This file contains karma unit test runner configuration.
├── LICENSE                     # License agreement file
├── package.json                # NPM configuration and medata.
├── README.md                   # Project documentation markup file.
├── tsconfig.es5.json           # This file contains ES5 typescript compiler options and configuration.
├── tsconfig.es2015.json        # This file contains ES2015 typescript compiler options and configuration.
├── tsconfig.json               # This file contains base typescript compiler options and configuration.
└── tslint.json                 # TS Lint rules for the project.
```

# Build Configuration

Build configuration can be updated via ``.packerrc.json``.

```json
{
  "namespace": "my.lib",
  "entry": "index.ts",
  "source": "src",
  "dist": {
    "outDir": "dist",
    "stylesDir": "styles",
    "generateFESM5": true,
    "generateFESM2015": true,
    "generateMin": true
  },
  "typescript": true,
  "cliProject": false,
  "styleSupport": true,
  "stylePreprocessor": "scss",
  "watch": {
    "scriptDir": ".tmp",
    "helperDir": "demo/helper",
    "demoDir": "demo/watch",
    "serve": true,
    "port": 4000,
    "open": true
  },
  "copy": [
    "README.md",
    "LICENSE"
  ],
  "flatGlobals": {},
  "esmExternals": [
    "handlebars/runtime"
  ],
  "pathReplacePatterns": [
    {
      "test": "./config/base-config",
      "replace": "./config/replace-config"
    }
  ],
  "ignore": [],
  "assetPaths": [
    "src/assets"
  ],
  "testFramework": "jasmine",
  "bundle": {
    "amd": {
      "define": "",
      "id": "myLib"
    },
    "format": "umd",
    "imageInlineLimit": 1000000,
    "inlineStyle": false
  },
  "license": {
    "banner": true,
    "thirdParty": {
      "includePrivate": false,
      "fileName": "dependencies.txt"
    }
  }
}
```

| Config                      	| Type             	| Definition                                                                       	|
|-----------------------------	|------------------	|----------------------------------------------------------------------------------	|
| namespace                   	| string           	| application namespace to be used                                                 	|
| entry                       	| string           	| entry typescript file                                                            	|
| source                      	| string           	| source directory                                                                 	|
| dist.outDir                   | string           	| build artifact output directory                                                   |
| dist.stylesDir                | string           	| build associated stylesheet output directory within out dir                       |
| generateFESM5                 | boolean           | Generate flat ESM5 module build artifacts                                         |
| generateFESM2015              | boolean           | Generate flat ESM2015 module build artifacts                                      |
| generateMin                   | boolean           | Generate flat bundle build minified artifact                                      |
| typescript                    | boolean           | Set true if library source is in Typescript                                       |
| stylePreprocessor             | string           	| Style preprocessor can be "scss", "sass", "stylus", "less"                        |
| cliProject                    | boolean           | Append node environment hash bang for CLI projects if true                        |
| styleSupport                  | boolean           | Support style preprocessing and linting                                           |
| watch                       	| object           	| watch mode configuration object                                                  	|
| watch.scriptDir               | string           	| watch build temp directory                                                       	|
| watch.helperDir               | string           	| watch build helper library directory                                              |
| watch.demoDir                 | string           	| watch demo page dir                                                              	|
| watch.port                  	| number           	| watch server port                                                                	|
| watch.serve                  	| boolean          	| Serve project via browser on watch mode                                           |
| watch.open                  	| boolean          	| open browser automatically                                                       	|
| copy                        	| array of strings 	| List of files paths to copy on build.                                            	|
| flatGlobals                 	| object           	| flat bundle build global dependencies.  Listed will not be treated as externals. 	|
| esmExternals                	| array of string   | ESM build external dependencies                                                  	|
| pathReplacePatterns         	| array of objects 	| Import path replace pattern collection                                           	|
| pathReplacePatterns.test    	| string           	| Path to find                                                                     	|
| pathReplacePatterns.replace 	| string           	| Path to replace                                                                  	|
| ignore                      	| array of strings 	| Import paths to ignore with noop implementation                                  	|
| assetPaths                  	| array of strings 	| List of paths which contains static assets referenced in style sheets            	|
| testFramework                 | string            | "Jasmine" and "Karma" framework options are available                             |
| imageInlineLimit            	| number           	| Inline image if image size is less than specified limit                          	|
| bundle                        | object           	| Build bundle associated configuration                                             |
| bundle.amd                 	  | object          	| AMD flat bundle configuration                                                    	|
| bundle.amd.define             | string          	| AMD flat bundle define function name                                              |
| bundle.amd.id                 | string          	| AMD flat bundle module identifier name                                            |
| bundle.format                	| string           	| "umd", "amd", "iife" and "system" flat bundle options are available               |
| bundle.imageInlineLimit       | number            | Size limit in bytes to inline compile images                                      |
| bundle.inlineStyle            | boolean           | Inline bundle styles withing JS code if true                                      |
| license                       | object            | Bundle license configuration                                                      |
| license.banner                | boolean           | Include inline header banner passed via ``.banner.hbs`` template                  |

# Contributions

Feel free to open an issue or create a PR
